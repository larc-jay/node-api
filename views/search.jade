extends layout

block content

 .container
   .row(style='padding:50px  0 10px 0')
      .col-md-12
         h1 Restaurant Details
   .row(style='background:#0088cc;color:#fff;padding:5px;border-radius:5px')
      .col-md-1 
          h3.panel-title  SNO.
      .col-md-2 
          h3.panel-title Tag
      .col-md-1 
          h3.panel-title Price
      .col-md-6 
          h3.panel-title Address
      .col-md-1  
          h3.panel-title Cycle
      .col-md-1 
          h3.panel-title Category
   #restaurants
          
      
      
      
block script
  script(src='//mistic100.github.io/jQCloud/dist/jqcloud2/dist/jqcloud.min.js')
  script(src='https://platform.twitter.com/widgets.js')
  script.
    'use strict';
    //var MMM = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
    var data = !{JSON.stringify(docs)};
    function renderRestaurant(container, data) {
      var str = [];
      var sno =1;
      data.forEach(function(raw) {
        var d = raw._source;
        var rest = d.restaurant;
        str.push(
        '<div class="row">' +
          '<div class="col-md-1">' + sno++  +'</div>' +
          '<div class="col-md-2">' +d.title +'</div>' +
          '<div class="col-md-1">' +d.price +'</div>' +
          '<div class="col-md-6">' +rest.neighbourhood +', '+rest.name+ ', '+rest.tag+', '+rest.address+'</div>' +
          '<div class="col-md-1">' +d.cycle +'</div>' +
          '<div class="col-md-1">' +d.category +'</div>' +
        '</div>');
      });
      $(container).html(str.join(''));
    }

    $(function() {
      renderRestaurant('#restaurants',data);
    });       